<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto+Slab:300,300italic,400,400italic,700,700italic|PT+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","version":"8.1.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"algolia":{"appID":"6T62J2F3GE","apiKey":"a76f37338e1f36a48dd928f26cc66238","indexName":"myBlog","hits":{"per_page":10}}};
  </script>
<meta name="description" content="这篇笔记和之前的一篇笔记，VTK笔记——多边形剪切(vtkClipPolyData)，都是关于多边形处理的，但不同的是后者是用封闭的点线来剪切。点线剪切可以在多边形上任意剪切掉一部分，显得比较灵活，就像下面示意这样。A)可以在多边形的中间剪出一个洞，B)也可在多边形边缘剪掉一块。 我们知道，多边形是由点(points)和面片(cells)组成的。剪切的本身就是对多边形的这些数据进行处理。而在实际应">
<meta property="og:type" content="article">
<meta property="og:title" content="VTK笔记——多边形剪切(vtkSelectPolyData)">
<meta property="og:url" content="http://example.com/2020/12/14/VTK%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%89%AA%E5%88%87(vtkSelectPolyData)/index.html">
<meta property="og:site_name" content="AndyJMR&#39;s Blog">
<meta property="og:description" content="这篇笔记和之前的一篇笔记，VTK笔记——多边形剪切(vtkClipPolyData)，都是关于多边形处理的，但不同的是后者是用封闭的点线来剪切。点线剪切可以在多边形上任意剪切掉一部分，显得比较灵活，就像下面示意这样。A)可以在多边形的中间剪出一个洞，B)也可在多边形边缘剪掉一块。 我们知道，多边形是由点(points)和面片(cells)组成的。剪切的本身就是对多边形的这些数据进行处理。而在实际应">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190328154020420.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbm1pbmRpYW56aQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190328163430505.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190328163005611.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbm1pbmRpYW56aQ==,size_16,color_FFFFFF,t_70">
<meta property="article:published_time" content="2020-12-14T05:28:25.437Z">
<meta property="article:modified_time" content="2020-12-14T06:47:09.073Z">
<meta property="article:author" content="AndyJMR">
<meta property="article:tag" content="VTK">
<meta property="article:tag" content="剪切">
<meta property="article:tag" content="多边形">
<meta property="article:tag" content="vtkSelectPolyData">
<meta property="article:tag" content="标量">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20190328154020420.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbm1pbmRpYW56aQ==,size_16,color_FFFFFF,t_70">


<link rel="canonical" href="http://example.com/2020/12/14/VTK%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%89%AA%E5%88%87(vtkSelectPolyData)/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>
<title>VTK笔记——多边形剪切(vtkSelectPolyData) | AndyJMR's Blog</title>
  

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a735f8df830ee11dac6bfeec912328eb";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">AndyJMR's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container">
  <div class="algolia-stats"><hr></div>
  <div class="algolia-hits"></div>
  <div class="algolia-pagination"></div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#vtkSelectPolyData"><span class="nav-number">1.</span> <span class="nav-text">vtkSelectPolyData</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BB%E8%A6%81%E4%BB%A3%E7%A0%81"><span class="nav-number">2.</span> <span class="nav-text">主要代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-number">3.</span> <span class="nav-text">效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="nav-number">4.</span> <span class="nav-text">示例代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Ref"><span class="nav-number">5.</span> <span class="nav-text">Ref</span></a></li></ol></div>
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">AndyJMR</p>
  <div class="site-description" itemprop="description">不积跬步，无以至千里；不积小流，无以成江海。</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/AndyJMR" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;AndyJMR" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/minmindianzi" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;minmindianzi" rel="noopener" target="_blank"><i class="fab fa-internet-explorer fa-fw"></i>CSDN</a>
      </span>
  </div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/12/14/VTK%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%89%AA%E5%88%87(vtkSelectPolyData)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="AndyJMR">
      <meta itemprop="description" content="不积跬步，无以至千里；不积小流，无以成江海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AndyJMR's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          VTK笔记——多边形剪切(vtkSelectPolyData)
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2020-12-14 13:28:25 / Modified: 14:47:09" itemprop="dateCreated datePublished" datetime="2020-12-14T13:28:25+08:00">2020-12-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/VTK%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">VTK笔记</span></a>
        </span>
    </span>

  
    <span id="/2020/12/14/VTK%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%89%AA%E5%88%87(vtkSelectPolyData)/" class="post-meta-item leancloud_visitors" data-flag-title="VTK笔记——多边形剪切(vtkSelectPolyData)" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/12/14/VTK%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%89%AA%E5%88%87(vtkSelectPolyData)/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/12/14/VTK笔记——多边形剪切(vtkSelectPolyData)/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>这篇笔记和之前的一篇笔记，<a target="_blank" rel="noopener" href="https://blog.csdn.net/minmindianzi/article/details/88848216">VTK笔记——多边形剪切(vtkClipPolyData)</a>，都是关于多边形处理的，但不同的是后者是用封闭的点线来剪切。点线剪切可以在多边形上任意剪切掉一部分，显得比较灵活，就像下面示意这样。A)可以在多边形的中间剪出一个洞，B)也可在多边形边缘剪掉一块。<br><img src="https://img-blog.csdnimg.cn/20190328154020420.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbm1pbmRpYW56aQ==,size_16,color_FFFFFF,t_70" alt="示意图"></p>
<p>我们知道，多边形是由点(points)和面片(cells)组成的。剪切的本身就是对多边形的这些数据进行处理。而在实际应用中，还有更多问题需要考虑。比如，切线是是否是任意的，需不需要过顶点，如果没在顶点上，那是否又需要拆分三角形等等。</p>
<h3 id="vtkSelectPolyData"><a href="#vtkSelectPolyData" class="headerlink" title="vtkSelectPolyData"></a>vtkSelectPolyData</h3><p>vtk中，<strong>vtkSelectPolyData</strong>，有一个用于多边形剪切的类<br>关于它的描述：</p>
<blockquote>
<p>select portion of polygonal mesh; generate selection scalars</p>
<p>vtkSelectPolyData is a filter that selects polygonal data based on defining a “loop” and indicating the region inside of the loop. The mesh within the loop consists of complete cells (the cells are not cut). Alternatively, this filter can be used to generate scalars. These scalar values, which are a distance measure to the loop, can be used to clip, contour. or extract data (i.e., anything that an implicit function can do).</p>
<p>The loop is defined by an array of x-y-z point coordinates. (Coordinates should be in the same coordinate space as the input polygonal data.) The loop can be concave and non-planar, but not self-intersecting. The input to the filter is a polygonal mesh (only surface primitives such as triangle strips and polygons); the output is either a) a portion of the original mesh laying within the selection loop (GenerateSelectionScalarsOff); or b) the same polygonal mesh with the addition of scalar values (GenerateSelectionScalarsOn).</p>
<p>The algorithm works as follows. For each point coordinate in the loop, the closest point in the mesh is found. The result is a loop of closest point ids from the mesh. Then, the edges in the mesh connecting the closest points (and laying along the lines forming the loop) are found. A greedy edge tracking procedure is used as follows. At the current point, the mesh edge oriented in the direction of and whose end point is closest to the line is chosen. The edge is followed to the new end point, and the procedure is repeated. This process continues until the entire loop has been created.</p>
<p>To determine what portion of the mesh is inside and outside of the loop, three options are possible. 1) the smallest connected region, 2) the largest connected region, and 3) the connected region closest to a user specified point. (Set the ivar SelectionMode.)</p>
<p>Once the loop is computed as above, the GenerateSelectionScalars controls the output of the filter. If on, then scalar values are generated based on distance to the loop lines. Otherwise, the cells laying inside the selection loop are output. By default, the mesh laying within the loop is output; however, if InsideOut is on, then the portion of the mesh laying outside of the loop is output.</p>
<p>The filter can be configured to generate the unselected portions of the mesh as output by setting GenerateUnselectedOutput. Use the method GetUnselectedOutput to access this output. (Note: this flag is pertinent only when GenerateSelectionScalars is off.)</p>
</blockquote>
<p>简单总结一下:</p>
<ol>
<li>选择多边形网格的一部分，输出部分多边形网格或标量，由GenerateSelectionScalarsOn/Off决定</li>
<li>网格的选取是通过一个环(loop)来指定的，可以是凹的和非平面的，但不能自相交</li>
<li>要确定选择网格的那个部分，有三种方式：1)最小连通区域，2)最大连通区域，3)最接近用户选取的连通区域。通过SelectionMode设置</li>
<li>默认是输出环内的网格，不过，可以通过InsideOut设置输出环外的网格</li>
<li>也可以输出未选取的部分，由GenerateUnselectedOutput决定</li>
<li>确保选取的点在一个连通的表面上，否则结果将为空。另外，自相交的结果不可预料</li>
</ol>
<h3 id="主要代码"><a href="#主要代码" class="headerlink" title="主要代码"></a>主要代码</h3><p><strong>构造点</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vtkSmartPointer&lt;vtkPoints&gt; loopPoints =</span><br><span class="line">  vtkSmartPointer&lt;vtkPoints&gt;::New();</span><br><span class="line">  </span><br><span class="line">loopPoints-&gt;InsertNextPoint(<span class="number">-0.16553</span>, <span class="number">0.135971</span>, <span class="number">0.451972</span>);</span><br><span class="line">loopPoints-&gt;InsertNextPoint(<span class="number">-0.0880123</span>, <span class="number">-0.134952</span>, <span class="number">0.4747</span>);</span><br></pre></td></tr></table></figure>
<p><strong>设置剪切</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vtkSmartPointer&lt;vtkSelectPolyData&gt; selectPolyData =</span><br><span class="line">  vtkSmartPointer&lt;vtkSelectPolyData&gt;::New();</span><br><span class="line">selectPolyData-&gt;SetInputConnection(sphereSource-&gt;GetOutputPort());</span><br><span class="line">selectPolyData-&gt;SetLoop(loopPoints);</span><br><span class="line">selectPolyData-&gt;GenerateUnselectedOutputOn();</span><br><span class="line">selectPolyData-&gt;SetSelectionModeToSmallestRegion(); <span class="comment">//negative scalars inside</span></span><br><span class="line">selectPolyData-&gt;Update();</span><br></pre></td></tr></table></figure>
<p><strong>获取剪切数据</strong><br><code>selectPolyData-&gt;GetOutputPort();</code><br><code>selectPolyData-&gt;GetUnselectedOutput()</code></p>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><img src="https://img-blog.csdnimg.cn/20190328163430505.gif" alt="在这里插入图片描述"></p>
<p>实际使用过程中，loop的点可能是通过交互进行拾取的。</p>
<h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkSmartPointer.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkProperty.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkSelectPolyData.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkSphereSource.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkClipPolyData.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkProperty.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkPolyDataMapper.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkLODActor.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkRenderWindowInteractor.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkRenderWindow.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkRenderer.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vtkNamedColors.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">char</span> *[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  vtkSmartPointer&lt;vtkNamedColors&gt; colors =</span><br><span class="line">    vtkSmartPointer&lt;vtkNamedColors&gt;::New();</span><br><span class="line"></span><br><span class="line">  vtkSmartPointer&lt;vtkSphereSource&gt; sphereSource = </span><br><span class="line">    vtkSmartPointer&lt;vtkSphereSource&gt;::New();</span><br><span class="line">  sphereSource-&gt;SetPhiResolution(<span class="number">50</span>);</span><br><span class="line">  sphereSource-&gt;SetThetaResolution(<span class="number">100</span>);</span><br><span class="line">  sphereSource-&gt;Update();</span><br><span class="line">      </span><br><span class="line">  vtkSmartPointer&lt;vtkPoints&gt; loopPoints =</span><br><span class="line">    vtkSmartPointer&lt;vtkPoints&gt;::New();</span><br><span class="line">    </span><br><span class="line">  loopPoints-&gt;InsertNextPoint(<span class="number">-0.16553</span>, <span class="number">0.135971</span>, <span class="number">0.451972</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint(<span class="number">-0.0880123</span>, <span class="number">-0.134952</span>, <span class="number">0.4747</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint(<span class="number">0.00292618</span>, <span class="number">-0.134604</span>, <span class="number">0.482459</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint(<span class="number">0.0641941</span>, <span class="number">0.067112</span>, <span class="number">0.490947</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint(<span class="number">0.15577</span>, <span class="number">0.0734765</span>, <span class="number">0.469245</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint(<span class="number">0.166667</span>, <span class="number">-0.129217</span>, <span class="number">0.454622</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint(<span class="number">0.241259</span>, <span class="number">-0.123363</span>, <span class="number">0.420581</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint(<span class="number">0.240334</span>, <span class="number">0.0727106</span>, <span class="number">0.432555</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint(<span class="number">0.308529</span>, <span class="number">0.0844311</span>, <span class="number">0.384357</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint(<span class="number">0.32672</span>, <span class="number">-0.121674</span>, <span class="number">0.359187</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.380721</span>, <span class="number">-0.117342</span>, <span class="number">0.302527</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.387804</span>, <span class="number">0.0455074</span>, <span class="number">0.312375</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.43943</span>, <span class="number">-0.111673</span>, <span class="number">0.211707</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.470984</span>, <span class="number">-0.0801913</span>, <span class="number">0.147919</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.436777</span>, <span class="number">0.0688872</span>, <span class="number">0.233021</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.44874</span>, <span class="number">0.188852</span>, <span class="number">0.109882</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.391352</span>, <span class="number">0.254285</span>, <span class="number">0.176943</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.373274</span>, <span class="number">0.154162</span>, <span class="number">0.294296</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.274659</span>, <span class="number">0.311654</span>, <span class="number">0.276609</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.206068</span>, <span class="number">0.31396</span>, <span class="number">0.329702</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.263789</span>, <span class="number">0.174982</span>, <span class="number">0.387308</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.213034</span>, <span class="number">0.175485</span>, <span class="number">0.417142</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.169113</span>, <span class="number">0.261974</span>, <span class="number">0.390286</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.102552</span>, <span class="number">0.25997</span>, <span class="number">0.414814</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.131512</span>, <span class="number">0.161254</span>, <span class="number">0.454705</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">0.000192443</span>, <span class="number">0.156264</span>, <span class="number">0.475307</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">-0.0392091</span>, <span class="number">0.000251724</span>, <span class="number">0.499943</span>);</span><br><span class="line">  loopPoints-&gt;InsertNextPoint( <span class="number">-0.096161</span>, <span class="number">0.159646</span>, <span class="number">0.46438</span>);</span><br><span class="line">  </span><br><span class="line">  vtkSmartPointer&lt;vtkSelectPolyData&gt; selectPolyData =</span><br><span class="line">    vtkSmartPointer&lt;vtkSelectPolyData&gt;::New();</span><br><span class="line">  selectPolyData-&gt;SetInputConnection(sphereSource-&gt;GetOutputPort());</span><br><span class="line">  selectPolyData-&gt;SetLoop(loopPoints);</span><br><span class="line">  selectPolyData-&gt;GenerateUnselectedOutputOn();</span><br><span class="line">  selectPolyData-&gt;SetSelectionModeToSmallestRegion(); <span class="comment">//negative scalars inside</span></span><br><span class="line">  selectPolyData-&gt;Update();</span><br><span class="line"></span><br><span class="line">  vtkSmartPointer&lt;vtkProperty&gt; backProp =</span><br><span class="line">	  vtkSmartPointer&lt;vtkProperty&gt;::New();</span><br><span class="line">  backProp-&gt;SetColor(colors-&gt;GetColor3d(<span class="string">&quot;tomato&quot;</span>).GetData());</span><br><span class="line"></span><br><span class="line">  vtkSmartPointer&lt;vtkPolyDataMapper&gt; selectMapper = </span><br><span class="line">    vtkSmartPointer&lt;vtkPolyDataMapper&gt;::New();</span><br><span class="line">  selectMapper-&gt;SetInputData(selectPolyData-&gt;GetUnselectedOutput());</span><br><span class="line">  <span class="comment">//selectMapper-&gt;ScalarVisibilityOff();</span></span><br><span class="line"></span><br><span class="line">  vtkSmartPointer&lt;vtkLODActor&gt; selectActor = </span><br><span class="line">    vtkSmartPointer&lt;vtkLODActor&gt;::New();</span><br><span class="line">  selectActor-&gt;SetMapper(selectMapper);</span><br><span class="line">  selectActor-&gt;SetBackfaceProperty(backProp);</span><br><span class="line">  selectActor-&gt;GetProperty()-&gt;SetColor(colors-&gt;GetColor3d(<span class="string">&quot;banana&quot;</span>).GetData());</span><br><span class="line"></span><br><span class="line">  vtkSmartPointer&lt;vtkPolyDataMapper&gt; unselectMapper =</span><br><span class="line">	  vtkSmartPointer&lt;vtkPolyDataMapper&gt;::New();</span><br><span class="line">  unselectMapper-&gt;SetInputConnection(selectPolyData-&gt;GetOutputPort());</span><br><span class="line">  <span class="comment">//unselectMapper-&gt;ScalarVisibilityOff();</span></span><br><span class="line"></span><br><span class="line">  vtkSmartPointer&lt;vtkLODActor&gt; unselectActor =</span><br><span class="line">	  vtkSmartPointer&lt;vtkLODActor&gt;::New();</span><br><span class="line">  unselectActor-&gt;SetMapper(unselectMapper);</span><br><span class="line">  unselectActor-&gt;SetBackfaceProperty(backProp);</span><br><span class="line">  unselectActor-&gt;GetProperty()-&gt;SetColor(colors-&gt;GetColor3d(<span class="string">&quot;banana&quot;</span>).GetData());</span><br><span class="line">    </span><br><span class="line">  vtkSmartPointer&lt;vtkRenderer&gt; renderer1 =</span><br><span class="line">	  vtkSmartPointer&lt;vtkRenderer&gt;::New();</span><br><span class="line"></span><br><span class="line">  vtkSmartPointer&lt;vtkRenderer&gt; renderer2 =</span><br><span class="line">	  vtkSmartPointer&lt;vtkRenderer&gt;::New();</span><br><span class="line"></span><br><span class="line">  vtkSmartPointer&lt;vtkRenderWindow&gt; renderWindow =</span><br><span class="line">    vtkSmartPointer&lt;vtkRenderWindow&gt;::New();</span><br><span class="line">  renderWindow-&gt;AddRenderer(renderer1);</span><br><span class="line">  renderWindow-&gt;AddRenderer(renderer2);</span><br><span class="line">  </span><br><span class="line">  vtkSmartPointer&lt;vtkRenderWindowInteractor&gt; interactor =</span><br><span class="line">    vtkSmartPointer&lt;vtkRenderWindowInteractor&gt;::New();</span><br><span class="line">  interactor-&gt;SetRenderWindow(renderWindow);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Add the actors to the renderer, set the background and size</span></span><br><span class="line">  renderer1-&gt;AddActor (selectActor);</span><br><span class="line">  renderer1-&gt;SetBackground (colors-&gt;GetColor3d(<span class="string">&quot;slate_grey&quot;</span>).GetData());</span><br><span class="line">  renderer1-&gt;SetViewport(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  renderer2-&gt;AddActor(unselectActor);</span><br><span class="line">  renderer2-&gt;SetBackground(colors-&gt;GetColor3d(<span class="string">&quot;slate_blue&quot;</span>).GetData());</span><br><span class="line">  renderer2-&gt;SetViewport(<span class="number">0.5</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  renderWindow-&gt;SetSize (<span class="number">800</span>, <span class="number">400</span>);</span><br><span class="line"></span><br><span class="line">  renderWindow-&gt;Render();</span><br><span class="line">  interactor-&gt;Start();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h3><p><a target="_blank" rel="noopener" href="https://vtk.org/doc/nightly/html/classvtkSelectPolyData.html">vtkSelectPolyData Class Reference</a><br><a target="_blank" rel="noopener" href="https://www.paraview.org/Wiki/VTK/Examples/Cxx/PolyData/SelectPolyData">SelectPolyData Examples</a><br><img src="https://img-blog.csdnimg.cn/20190328163005611.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbm1pbmRpYW56aQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/VTK/" rel="tag"># VTK</a>
              <a href="/tags/%E5%89%AA%E5%88%87/" rel="tag"># 剪切</a>
              <a href="/tags/%E5%A4%9A%E8%BE%B9%E5%BD%A2/" rel="tag"># 多边形</a>
              <a href="/tags/vtkSelectPolyData/" rel="tag"># vtkSelectPolyData</a>
              <a href="/tags/%E6%A0%87%E9%87%8F/" rel="tag"># 标量</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/12/14/VTK%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%89%AA%E5%88%87(vtkClipPolyData)/" rel="prev" title="VTK笔记——多边形剪切(vtkClipPolyData)">
                  <i class="fa fa-chevron-left"></i> VTK笔记——多边形剪切(vtkClipPolyData)
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/12/14/VTK%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E6%8B%BE%E5%8F%96%E5%99%A8Picker/" rel="next" title="VTK笔记——拾取器Picker">
                  VTK笔记——拾取器Picker <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">AndyJMR</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  

<script src="//cdn.jsdelivr.net/npm/algoliasearch@4.8.2/dist/algoliasearch-lite.umd.js"></script>
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@4.8.7/dist/instantsearch.production.min.js"></script><script src="/js/algolia-search.js"></script>






  



<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      const visitors = document.querySelector('.leancloud_visitors');
      const url = decodeURI(visitors.id);
      const title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            const counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      const visitors = document.querySelectorAll('.leancloud_visitors');
      const entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            const target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    const { app_id, app_key, server_url } = {"enable":true,"app_id":"a2YE7UNG6CpOcQJ3T3PhTOKT-gzGzoHsz","app_key":"3ARwkw15puLjE9cLL4d6FLhI","server_url":null,"security":true};
    function fetchData(api_server) {
      const Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    const api_server = app_id.slice(-9) === '-MdYXbMMI' ? `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com` : server_url;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>



<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://AndyJMR.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "http://example.com/2020/12/14/VTK%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%89%AA%E5%88%87(vtkSelectPolyData)/";
    this.page.identifier = "2020/12/14/VTK笔记——多边形剪切(vtkSelectPolyData)/";
    this.page.title = "VTK笔记——多边形剪切(vtkSelectPolyData)";
    };
  NexT.utils.loadComments('#disqus_thread', () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://AndyJMR.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
